# üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –¥–≤–∞ —Ä–µ–∂–∏–º–∞ —Ä–∞–±–æ—Ç—ã: **–ª–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** –∏ **Docker**.

## üìÅ –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

### `.env` - –¢–µ–∫—É—â–∞—è –∞–∫—Ç–∏–≤–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –∫–∞–∫ Docker, —Ç–∞–∫ –∏ –ª–æ–∫–∞–ª—å–Ω—ã–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ–º. 
**–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è Docker.**

### `.env.docker` - –®–∞–±–ª–æ–Ω –¥–ª—è Docker
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –≤ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö:
- PostgreSQL: `postgres:5432` (–∏–º—è —Å–µ—Ä–≤–∏—Å–∞ –∏–∑ docker-compose.yml)
- Redis: `redis:6379`
- Chromium: `/usr/bin/chromium-browser`

### `.env.local` - –®–∞–±–ª–æ–Ω –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ (–±–µ–∑ Docker):
- PostgreSQL: `localhost:5432`
- Redis: `localhost:6379`
- Chromium: –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ

## üöÄ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ –≤ Docker

```powershell
# Windows
.\scripts\docker-start.ps1

# Linux/Mac
./scripts/docker-start.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç –Ω–∞–ª–∏—á–∏–µ `.env`
2. –°–∫–æ–ø–∏—Ä—É–µ—Ç `.env.docker` ‚Üí `.env` –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
3. –ó–∞–ø—É—Å—Ç–∏—Ç –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```powershell
# 1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —à–∞–±–ª–æ–Ω
Copy-Item .env.local .env

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ë–î –≤ .env
# DATABASE_URL –¥–æ–ª–∂–µ–Ω —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–∞ –≤–∞—à—É –ª–æ–∫–∞–ª—å–Ω—É—é –ë–î

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
npx prisma migrate dev

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
npm run dev
```

## üîÑ –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è–º–∏

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ Docker:
```powershell
Copy-Item .env.docker .env -Force
```

### –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å—Å—è –Ω–∞ –ª–æ–∫–∞–ª—å–Ω—É—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É:
```powershell
Copy-Item .env.local .env -Force
```

## üóÑÔ∏è –†–∞–±–æ—Ç–∞ —Å –¥–≤—É–º—è –ë–î

–ü—Ä–æ–µ–∫—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É —Å –¥–≤—É–º—è –±–∞–∑–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:

1. **–õ–æ–∫–∞–ª—å–Ω–∞—è –ë–î** (`vacancy` –Ω–∞ localhost:5432)
   - –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –≤–∞—à–µ–π –ª–æ–∫–∞–ª—å–Ω–æ–π PostgreSQL

2. **Docker –ë–î** (`parsing` –Ω–∞ postgres:5432 –≤ Docker)
   - –î–ª—è production-like –æ–∫—Ä—É–∂–µ–Ω–∏—è
   - –î–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ Docker volume `postgres_data`

**–í–∞–∂–Ω–æ**: –≠—Ç–æ –¥–≤–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å —Ä–∞–∑–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏!

## ‚öôÔ∏è –û—Å–Ω–æ–≤–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

### –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
```env
# Docker
DATABASE_URL=postgresql://parser:parser123@postgres:5432/parsing?schema=public

# Local
DATABASE_URL=postgresql://postgres:Mancara2004@localhost:5432/vacancy?schema=public
```

### Redis
```env
# Docker
REDIS_HOST=redis
REDIS_PASSWORD=redis123

# Local  
REDIS_HOST=localhost
REDIS_PASSWORD=
```

### Puppeteer
```env
# Docker
PUPPETEER_EXECUTABLE_PATH=/usr/bin/chromium-browser

# Local
PUPPETEER_EXECUTABLE_PATH=
# (–ø—É—Å—Ç–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ = –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ)
```

## üêõ Troubleshooting

### –û—à–∏–±–∫–∞ "Can't reach database server"
- –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π `.env` —Ñ–∞–π–ª
- –î–ª—è Docker: `DATABASE_URL` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `@postgres:5432`
- –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π: `DATABASE_URL` –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å `@localhost:5432`

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã –Ω–µ –∑–∞–ø—É—Å–∫–∞—é—Ç—Å—è
```powershell
# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞
docker compose down -v
docker compose build --no-cache
docker compose up -d
```

### –ù—É–∂–Ω–æ –æ—á–∏—Å—Ç–∏—Ç—å –ë–î –≤ Docker
```powershell
docker compose down -v  # –£–¥–∞–ª–∏—Ç volumes —Å –¥–∞–Ω–Ω—ã–º–∏
docker compose up -d
```
