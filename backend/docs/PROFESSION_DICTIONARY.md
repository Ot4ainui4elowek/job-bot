# üìö –°–ª–æ–≤–∞—Ä–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–π (Profession Dictionary)

## üìñ –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
- [–ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Å–ª–æ–≤–∞—Ä–∏](#–∑–∞—á–µ–º-–Ω—É–∂–Ω—ã-—Å–ª–æ–≤–∞—Ä–∏)
- [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–¥–∞–Ω–Ω—ã—Ö)
- [–ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–ª–æ–≤–∞—Ä–∏](#–∫–∞–∫-—Ä–∞–±–æ—Ç–∞—é—Ç-—Å–ª–æ–≤–∞—Ä–∏)
- [–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫](#—Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π-–ø–æ–∏—Å–∫)
- [API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏](#api-–¥–ª—è-—Ä–∞–±–æ—Ç—ã-—Å–æ-—Å–ª–æ–≤–∞—Ä—è–º–∏)
- [–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π](#–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ-—Å–ª–æ–≤–∞—Ä–µ–π)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞](#–Ω–∞—Å—Ç—Ä–æ–π–∫–∞)
- [–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è](#–ø—Ä–∏–º–µ—Ä—ã-–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)
- [Troubleshooting](#troubleshooting)

---

## üéØ –û–±–∑–æ—Ä

**–°–ª–æ–≤–∞—Ä–∏ –ø—Ä–æ—Ñ–µ—Å—Å–∏–π** - —ç—Ç–æ —Å–∏—Å—Ç–µ–º–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –∏ –º–∞–ø–ø–∏–Ω–≥–∞ –Ω–∞–∑–≤–∞–Ω–∏–π –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø–æ–∏—Å–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∏.

**–û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- ‚úÖ **ProfessionDictionary** - —Å–ª–æ–≤–∞—Ä—å –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
- ‚úÖ **CrossSourceMapping** - –º–∞–ø–ø–∏–Ω–≥ –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- ‚úÖ **ProfessionDictionaryService** - —Å–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏
- ‚úÖ **SemanticSearch** - —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ —á–µ—Ä–µ–∑ —Å–ª–æ–≤–∞—Ä–∏

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- **PostgreSQL** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π
- **Worker** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π
- **NLP techniques** - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
- **Redis** - –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞

---

## üéØ –ó–∞—á–µ–º –Ω—É–∂–Ω—ã —Å–ª–æ–≤–∞—Ä–∏

–†–∞–∑–Ω—ã–µ —Å–∞–π—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ä–∞–∑–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –¥–ª—è –æ–¥–Ω–∏—Ö –∏ —Ç–µ—Ö –∂–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–π**:

```
rabota.md:    "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js", "Node.js Developer", "Senior Backend (Node)"
999.md:       "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS", "NodeJS –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç", "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ Node"
makler.md:    "Node.js —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç", "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Node.js)", "JS Developer Node"

–í—Å–µ —ç—Ç–æ ‚Üí "nodejs developer" –≤ –µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –¥–ª—è –ø–æ–∏—Å–∫–∞
```

**–ü—Ä–æ–±–ª–µ–º—ã –±–µ–∑ —Å–ª–æ–≤–∞—Ä–µ–π:**
- ‚ùå –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç node" - –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ —Å "NodeJS —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫"
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –æ–±—ä–µ–¥–∏–Ω–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –æ–¥–Ω–æ–º—É —Ç–∏–ø—É –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
- ‚ùå –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–†–µ—à–µ–Ω–∏–µ —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏:**
- ‚úÖ –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤—Å–µ—Ö –Ω–∞–∑–≤–∞–Ω–∏–π –≤ –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π —á–µ—Ä–µ–∑ similarity scoring
- ‚úÖ –ö—Ä–æ—Å—Å-–º–∞–ø–ø–∏–Ω–≥ –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

---

## üóÉÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

### 1. ProfessionDictionary (–≥–ª–∞–≤–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞)

```prisma
model ProfessionDictionary {
  id                String   @id @default(cuid())
  source            String   // 'rabota.md', '999.md', 'makler.md'
  originalProfession String   // –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–∞
  normalizedProfession String // –ù–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
  normalizedKeywords String[] // –ö–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞ –¥–ª—è –ø–æ–∏—Å–∫–∞
  similarityScore   Float    // –¢–æ—á–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ (0.0 - 1.0)
  count             Int      @default(1) // –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—Å—Ç—Ä–µ—á –≤ –≤–∞–∫–∞–Ω—Å–∏—è—Ö
  firstSeen         DateTime @default(now())
  lastSeen          DateTime @default(now())
  lastUpdated       DateTime @default(now())
  
  @@unique([source, originalProfession])
  @@index([normalizedProfession])
  @@index([source])
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π:**
```json
{
  "source": "rabota.md",
  "originalProfession": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js",
  "normalizedProfession": "nodejs developer",
  "normalizedKeywords": ["nodejs", "developer", "backend"],
  "similarityScore": 0.95,
  "count": 45
}

{
  "source": "999.md",
  "originalProfession": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS", 
  "normalizedProfession": "nodejs developer",
  "normalizedKeywords": ["nodejs", "developer", "backend"],
  "similarityScore": 0.92,
  "count": 23
}

{
  "source": "makler.md",
  "originalProfession": "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Node.js)",
  "normalizedProfession": "nodejs developer",
  "normalizedKeywords": ["nodejs", "developer", "backend"],
  "similarityScore": 0.88,
  "count": 18
}
```

### 2. CrossSourceMapping (–º–∞–ø–ø–∏–Ω–≥ –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏)

```prisma
model CrossSourceMapping {
  id                String   @id @default(cuid())
  sourceProfessionId String  // ID –∏–∑ ProfessionDictionary (–∏—Å—Ç–æ—á–Ω–∏–∫)
  targetProfessionId String  // ID –∏–∑ ProfessionDictionary (—Ü–µ–ª—å)
  mappingScore      Float    // –¢–æ—á–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ (0.0 - 1.0)
  confidence        Float    // –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –≤ –º–∞–ø–ø–∏–Ω–≥–µ
  createdAt         DateTime @default(now())
  updatedAt         DateTime @default(now())
  
  sourceProfession ProfessionDictionary @relation("sourceMapping", fields: [sourceProfessionId], references: [id])
  targetProfession ProfessionDictionary @relation("targetMapping", fields: [targetProfessionId], references: [id])
  
  @@unique([sourceProfessionId, targetProfessionId])
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø–∏—Å–µ–π:**
```json
{
  "sourceProfessionId": "clx123...", // "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js" (rabota.md)
  "targetProfessionId": "cly456...", // "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS" (999.md)  
  "mappingScore": 0.88,
  "confidence": 0.91
}

{
  "sourceProfessionId": "clx123...", // "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js" (rabota.md)
  "targetProfessionId": "clz789...", // "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Node.js)" (makler.md)
  "mappingScore": 0.75,
  "confidence": 0.85
}
```

### 3. ProfessionSynonyms (—Å–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è –ø–æ–∏—Å–∫–∞)

```prisma
model ProfessionSynonyms {
  id                String   @id @default(cuid())
  normalizedProfession String @unique // "nodejs developer"
  synonyms          String[] // ["node.js developer", "node js developer", "backend js"]
  createdAt         DateTime @default(now())
  updatedAt         DateTime @default(now())
}
```

**–ü—Ä–∏–º–µ—Ä:**
```json
{
  "normalizedProfession": "nodejs developer",
  "synonyms": [
    "node.js developer",
    "node js developer", 
    "backend js developer",
    "javascript backend developer",
    "node backend engineer"
  ]
}
```

---

## üîç –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–ª–æ–≤–∞—Ä–∏

### –ü—Ä–æ—Ü–µ—Å—Å –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

```
1. –ò—Å—Ö–æ–¥–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js (Senior)"
   ‚îÇ
   ‚ñº
2. –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞: 
   - –£–¥–∞–ª–µ–Ω–∏–µ —Å–∫–æ–±–æ–∫ –∏ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
   - –ü—Ä–∏–≤–µ–¥–µ–Ω–∏–µ –∫ –Ω–∏–∂–Ω–µ–º—É —Ä–µ–≥–∏—Å—Ç—Ä—É
   ‚Üí "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç nodejs senior"
   ‚îÇ
   ‚ñº
3. –¢–æ–∫–µ–Ω–∏–∑–∞—Ü–∏—è –∏ –∫–ª—é—á–µ–≤—ã–µ —Å–ª–æ–≤–∞:
   - –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ —Å–ª–æ–≤–∞
   - –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–æ–ø-—Å–ª–æ–≤
   ‚Üí ["–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç", "nodejs", "senior"]
   ‚îÇ
   ‚ñº
4. –õ–µ–º–º–∞—Ç–∏–∑–∞—Ü–∏—è –∏ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è:
   - "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç" ‚Üí "developer"
   - "senior" ‚Üí "senior" (–æ—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å)
   ‚Üí ["developer", "nodejs", "senior"]
   ‚îÇ
   ‚ñº
5. –§–∏–Ω–∞–ª—å–Ω–æ–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ:
   - –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–∞–∂–Ω–æ—Å—Ç–∏
   ‚Üí "nodejs developer senior"
```

### –ü—Ä–æ—Ü–µ—Å—Å –º–∞–ø–ø–∏–Ω–≥–∞ –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏

```
1. –ë–µ—Ä–µ–º –ø—Ä–æ—Ñ–µ—Å—Å–∏—é –∏–∑ rabota.md: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js"
2. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º: "nodejs developer"
3. –ò—â–µ–º –≤ 999.md –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ —Å –ø–æ—Ö–æ–∂–∏–º normalizedProfession:
   - "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS" ‚Üí "nodejs developer" (similarity: 0.92)
   - "Senior NodeJS Developer" ‚Üí "nodejs developer senior" (similarity: 0.85)
4. –°–æ–∑–¥–∞–µ–º –º–∞–ø–ø–∏–Ω–≥ —Å –ª—É—á—à–∏–º —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ–º:
   CrossSourceMapping {
     source: "rabota.md:–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js",
     target: "999.md:–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS",
     score: 0.92,
     confidence: 0.91
   }
```

### –ü—Ä–æ—Ü–µ—Å—Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π

```
1. Worker –∑–∞–ø—É—Å–∫–∞–µ—Ç –∑–∞–¥–∞—á—É –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
2. –ë–µ—Ä–µ—Ç –≤—Å–µ –≤–∞–∫–∞–Ω—Å–∏–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 30 –¥–Ω–µ–π
3. –ò–∑–≤–ª–µ–∫–∞–µ—Ç –≤—Å–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
4. –ù–æ—Ä–º–∞–ª–∏–∑—É–µ—Ç –∫–∞–∂–¥–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ
5. –ù–∞—Ö–æ–¥–∏—Ç –∏–ª–∏ —Å–æ–∑–¥–∞–µ—Ç –∑–∞–ø–∏—Å–∏ –≤ ProfessionDictionary
6. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å—á–µ—Ç—á–∏–∫–∏ –∏ –¥–∞—Ç—ã
7. –°—Ç—Ä–æ–∏—Ç –∫—Ä–æ—Å—Å-–º–∞–ø–ø–∏–Ω–≥ –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏
8. –û–±–Ω–æ–≤–ª—è–µ—Ç —Å–∏–Ω–æ–Ω–∏–º—ã –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
9. –ò–Ω–≤–∞–ª–∏–¥–∏—Ä—É–µ—Ç –∫—ç—à –¥–ª—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞
```

---

## üîç –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

### –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫

```typescript
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏—â–µ—Ç: "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –¥–∂–∞–≤–∞"
const query = "–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –¥–∂–∞–≤–∞";

// 1. –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –∑–∞–ø—Ä–æ—Å–∞
const normalizedQuery = normalizeProfessionName(query);
// ‚Üí "java developer"

// 2. –ü–æ–∏—Å–∫ —Ç–æ—á–Ω—ã—Ö —Å–æ–≤–ø–∞–¥–µ–Ω–∏–π
const exactMatches = await findExactMatches(normalizedQuery);

// 3. –ü–æ–∏—Å–∫ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
const similarProfessions = await findSimilarProfessions(normalizedQuery, {
  minSimilarity: 0.7,
  maxResults: 10
});
// ‚Üí ["java developer", "java engineer", "backend java"]

// 4. –ü–æ–∏—Å–∫ –≤–∞–∫–∞–Ω—Å–∏–π –ø–æ –≤—Å–µ–º –Ω–∞–π–¥–µ–Ω–Ω—ã–º –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º
const vacancies = await findVacanciesByProfessions([
  ...exactMatches,
  ...similarProfessions
]);

// 5. –†–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
const rankedResults = rankVacanciesByRelevance(vacancies, query);
```

### –ê–ª–≥–æ—Ä–∏—Ç–º—ã –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π

#### 1. Text Similarity (–æ—Å–Ω–æ–≤–Ω–æ–π)

```typescript
function calculateTextSimilarity(source: string, target: string): number {
  // Jaro-Winkler similarity –¥–ª—è —Ç–æ—á–Ω–æ–≥–æ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
  const jaroWinkler = jaroWinklerDistance(source, target);
  
  // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã
  const keywordMatch = calculateKeywordMatch(source, target);
  const lengthPenalty = calculateLengthPenalty(source, target);
  
  return (jaroWinkler * 0.7) + (keywordMatch * 0.2) + (lengthPenalty * 0.1);
}
```

#### 2. Keyword-based similarity

```typescript
function calculateKeywordMatch(source: string, target: string): number {
  const sourceKeywords = extractKeywords(source);
  const targetKeywords = extractKeywords(target);
  
  const commonKeywords = sourceKeywords.filter(kw => 
    targetKeywords.some(tk => calculateKeywordSimilarity(kw, tk) > 0.8)
  );
  
  return commonKeywords.length / Math.max(sourceKeywords.length, targetKeywords.length);
}
```

#### 3. Context-based similarity (–¥–ª—è –∫—Ä–æ—Å—Å-–º–∞–ø–ø–∏–Ω–≥–∞)

```typescript
function calculateContextSimilarity(sourceProf: ProfessionDictionary, targetProf: ProfessionDictionary): number {
  // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç: –Ω–∞–≤—ã–∫–∏, –∑–∞—Ä–ø–ª–∞—Ç—ã, –æ–ø—ã—Ç
  const skillSimilarity = calculateSkillSimilarity(
    sourceProf.relatedSkills, 
    targetProf.relatedSkills
  );
  
  const salarySimilarity = calculateSalarySimilarity(
    sourceProf.avgSalary,
    targetProf.avgSalary
  );
  
  const experienceSimilarity = calculateExperienceSimilarity(
    sourceProf.requiredExperience,
    targetProf.requiredExperience
  );
  
  return (skillSimilarity * 0.5) + (salarySimilarity * 0.3) + (experienceSimilarity * 0.2);
}
```

### –ü–æ—Ä–æ–≥–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏

| –¢–∏–ø —Å—Ä–∞–≤–Ω–µ–Ω–∏—è | –ù–∏–∑–∫–∏–π –ø–æ—Ä–æ–≥ | –í—ã—Å–æ–∫–∏–π –ø–æ—Ä–æ–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------------|--------------|---------------|----------|
| Text similarity | 0.6 | 0.85 | –ü–æ—Ö–æ–∂–µ—Å—Ç—å —Ç–µ–∫—Å—Ç–∞ |
| Keyword match | 0.5 | 0.9 | –°–æ–≤–ø–∞–¥–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤ |
| Context similarity | 0.7 | 0.95 | –ü–æ—Ö–æ–∂–µ—Å—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ (–Ω–∞–≤—ã–∫–∏, –∑–∞—Ä–ø–ª–∞—Ç–∞) |
| Cross-mapping | 0.7 | 0.9 | –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ –º–µ–∂–¥—É –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º–∏ |

---

## üåê API –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å–æ —Å–ª–æ–≤–∞—Ä—è–º–∏

### 1. –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏–∑ —Å–ª–æ–≤–∞—Ä—è

**GET** `/api/dictionaries/professions`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|----------|--------------|
| `source` | string | –§–∏–ª—å—Ç—Ä –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫—É | –≤—Å–µ |
| `search` | string | –ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é | - |
| `minCount` | number | –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π | 1 |
| `minSimilarity` | number | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞ | 0.6 |
| `limit` | number | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ | 100 |
| `offset` | number | –°–º–µ—â–µ–Ω–∏–µ –¥–ª—è –ø–∞–≥–∏–Ω–∞—Ü–∏–∏ | 0 |

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": [
    {
      "id": "clx123...",
      "source": "rabota.md",
      "originalProfession": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js",
      "normalizedProfession": "nodejs developer",
      "normalizedKeywords": ["nodejs", "developer", "backend"],
      "similarityScore": 0.95,
      "count": 45,
      "firstSeen": "2024-01-01T10:30:00Z",
      "lastSeen": "2024-01-05T15:20:00Z",
      "lastUpdated": "2024-01-05T16:00:00Z"
    },
    {
      "id": "cly456...",
      "source": "999.md",
      "originalProfession": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS",
      "normalizedProfession": "nodejs developer",
      "normalizedKeywords": ["nodejs", "developer", "backend"],
      "similarityScore": 0.92,
      "count": 23,
      "firstSeen": "2024-01-02T09:15:00Z",
      "lastSeen": "2024-01-04T18:30:00Z",
      "lastUpdated": "2024-01-05T16:00:00Z"
    }
  ],
  "meta": {
    "total": 150,
    "limit": 2,
    "offset": 0
  }
}
```

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤:**
```bash
# –í—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏
curl "http://localhost:3000/api/dictionaries/professions"

# –¢–æ–ª—å–∫–æ rabota.md
curl "http://localhost:3000/api/dictionaries/professions?source=rabota.md"

# –ü–æ–∏—Å–∫ –ø–æ –∫–ª—é—á–µ–≤–æ–º—É —Å–ª–æ–≤—É
curl "http://localhost:3000/api/dictionaries/professions?search=nodejs"

# –ü–æ–ø—É–ª—è—Ä–Ω—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ (–º–∏–Ω–∏–º—É–º 10 –≤–∞–∫–∞–Ω—Å–∏–π)
curl "http://localhost:3000/api/dictionaries/professions?minCount=10&limit=50"
```

### 2. –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏

**POST** `/api/dictionaries/professions/sync`

**Body –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
```json
{
  "sources": ["rabota.md", "999.md"], // –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—Å–µ
  "force": true,                      // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–∂–µ –µ—Å–ª–∏ –Ω–µ–¥–∞–≤–Ω–æ –æ–±–Ω–æ–≤–ª—è–ª–æ—Å—å
  "maxVacancies": 10000               // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
}
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "updated": {
      "rabotaMd": 1245,
      "nineNineNineMd": 890,
      "maklerMd": 340,
      "crossMapping": 567,
      "synonyms": 324
    },
    "duration": "45.3s",
    "timestamp": "2024-01-05T16:30:00Z"
  }
}
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl -X POST "http://localhost:3000/api/dictionaries/professions/sync" \
  -H "Content-Type: application/json" \
  -d '{
    "sources": ["rabota.md"],
    "force": true,
    "maxVacancies": 5000
  }'
```

### 3. –ù–∞–π—Ç–∏ –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏

**GET** `/api/dictionaries/professions/similar`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|----------|--------------|
| `query` | string | –ó–∞–ø—Ä–æ—Å –¥–ª—è –ø–æ–∏—Å–∫–∞ –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π | - |
| `source` | string | –ò—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –ø–æ–∏—Å–∫–∞ | –≤—Å–µ |
| `minSimilarity` | number | –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Å—Ö–æ–∂–µ—Å—Ç—å | 0.7 |
| `limit` | number | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ | 10 |

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": [
    {
      "originalProfession": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js",
      "normalizedProfession": "nodejs developer",
      "similarity": 0.95,
      "source": "rabota.md",
      "count": 45
    },
    {
      "originalProfession": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS",
      "normalizedProfession": "nodejs developer",
      "similarity": 0.92,
      "source": "999.md", 
      "count": 23
    },
    {
      "originalProfession": "Senior Backend Developer (Node.js)",
      "normalizedProfession": "nodejs developer senior",
      "similarity": 0.85,
      "source": "rabota.md",
      "count": 12
    }
  ]
}
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "http://localhost:3000/api/dictionaries/professions/similar?query=nodejs+developer&minSimilarity=0.8&limit=5"
```

### 4. –ü–æ–ª—É—á–∏—Ç—å –∫—Ä–æ—Å—Å-–º–∞–ø–ø–∏–Ω–≥ –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏

**GET** `/api/dictionaries/professions/cross-mapping`

**Query –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:**
| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é |
|----------|-----|----------|--------------|
| `professionId` | string | ID –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏–∑ ProfessionDictionary | - |
| `targetSource` | string | –¶–µ–ª–µ–≤–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–ª—è –º–∞–ø–ø–∏–Ω–≥–∞ | –≤—Å–µ |
| `minMappingScore` | number | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π score –º–∞–ø–ø–∏–Ω–≥–∞ | 0.7 |

**–û—Ç–≤–µ—Ç:**
```json
{
  "success": true,
  "data": {
    "sourceProfession": {
      "id": "clx123...",
      "source": "rabota.md",
      "originalProfession": "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç Node.js",
      "normalizedProfession": "nodejs developer"
    },
    "mappings": [
      {
        "targetProfession": {
          "id": "cly456...",
          "source": "999.md",
          "originalProfession": "–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ NodeJS",
          "normalizedProfession": "nodejs developer"
        },
        "mappingScore": 0.88,
        "confidence": 0.91
      },
      {
        "targetProfession": {
          "id": "clz789...",
          "source": "makler.md",
          "originalProfession": "Backend —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ (Node.js)",
          "normalizedProfession": "nodejs developer"
        },
        "mappingScore": 0.75,
        "confidence": 0.85
      }
    ]
  }
}
```

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl "http://localhost:3000/api/dictionaries/professions/cross-mapping?professionId=clx123...&minMappingScore=0.7"
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

Worker –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ª–æ–≤–∞—Ä–∏ –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞:

```typescript
// src/worker/jobs/semanticJob.ts
export async function semanticJobProcessor(job: Job) {
  job.log('üîÑ Starting semantic dictionary update');
  
  try {
    // 1. –ü–æ–ª—É—á–∞–µ–º –≤–∞–∫–∞–Ω—Å–∏–∏ –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–π –º–µ—Å—è—Ü
    const recentVacancies = await prisma.vacancy.findMany({
      where: {
        publishedAt: { 
          gte: new Date(Date.now() - 30 * 24 * 60 * 60 * 1000) 
        }
      },
      select: {
        title: true,
        skills: true,
        source: true,
        salaryMin: true,
        salaryMax: true,
        experience: true
      },
      take: 10000 // –ú–∞–∫—Å–∏–º—É–º 10000 –≤–∞–∫–∞–Ω—Å–∏–π
    });
    
    job.log(`üßæ Analyzing ${recentVacancies.length} recent vacancies`);
    
    // 2. –û–±—Ä–∞–±–æ—Ç–∫–∞ —á–µ—Ä–µ–∑ ProfessionDictionaryService
    const result = await professionDictionaryService.updateDictionaries(recentVacancies);
    
    job.log(`‚úÖ Updated dictionaries:`);
    job.log(`   - rabota.md: ${result.rabotaMd.count} professions`);
    job.log(`   - 999.md: ${result.nineNineNineMd.count} professions`);
    job.log(`   - makler.md: ${result.maklerMd.count} professions`);
    job.log(`   - Cross-mapping: ${result.crossMapping.count} mappings`);
    job.log(`   - Synonyms: ${result.synonyms.count} entries`);
    
    return {
      success: true,
      updated: {
        rabotaMd: result.rabotaMd.count,
        nineNineNineMd: result.nineNineNineMd.count,
        maklerMd: result.maklerMd.count,
        crossMapping: result.crossMapping.count,
        synonyms: result.synonyms.count
      },
      timestamp: new Date().toISOString()
    };
    
  } catch (error) {
    job.log(`‚ùå Semantic update failed: ${error.message}`);
    throw error;
  }
}
```

### –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

```bash
# –ß–µ—Ä–µ–∑ API
curl -X POST "http://localhost:3000/api/dictionaries/professions/sync"

# –ß–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç
npm run update:dictionaries

# –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è (–æ—á–∏—â–∞–µ—Ç —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ)
npm run update:dictionaries -- --force --full
```

### –°–∫—Ä–∏–ø—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è

```typescript
// scripts/updateDictionaries.ts
import { prisma } from '../src/db/index.js';
import { professionDictionaryService } from '../src/api/services/profession-dictionary.service.js';

async function updateDictionaries() {
  console.log('üîÑ Starting dictionary update...');
  
  const recentVacancies = await prisma.vacancy.findMany({
    where: {
      publishedAt: { 
        gte: new Date(Date.now() - 90 * 24 * 60 * 60 * 1000) // 90 –¥–Ω–µ–π
      }
    },
    select: {
      title: true,
      skills: true,
      source: true,
      salaryMin: true,
      salaryMax: true,
      experience: true
    },
    take: 50000 // –î–ª—è –ø–æ–ª–Ω–æ–π –ø–µ—Ä–µ–≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
  });
  
  console.log(`üìä Found ${recentVacancies.length} vacancies to analyze`);
  
  const result = await professionDictionaryService.updateDictionaries(recentVacancies, {
    force: process.argv.includes('--force'),
    full: process.argv.includes('--full')
  });
  
  console.log('‚úÖ Dictionary update completed:');
  console.log(`   rabota.md: ${result.rabotaMd.count}`);
  console.log(`   999.md: ${result.nineNineNineMd.count}`);
  console.log(`   makler.md: ${result.maklerMd.count}`);
  console.log(`   Cross-mapping: ${result.crossMapping.count}`);
  console.log(`   Synonyms: ${result.synonyms.count}`);
  
  await prisma.$disconnect();
}

updateDictionaries().catch(console.error);
```

---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### –í .env —Ñ–∞–π–ª–µ

```env
# –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
SEMANTIC_SEARCH_ENABLED=true
SEMANTIC_SIMILARITY_THRESHOLD=0.7
SEMANTIC_CONFIDENCE_THRESHOLD=0.8

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π
DICTIONARY_UPDATE_INTERVAL=86400000  # 24 —á–∞—Å–∞ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö
DICTIONARY_MIN_COUNT=5             # –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–ª—è –≤–∫–ª—é—á–µ–Ω–∏—è –≤ —Å–ª–æ–≤–∞—Ä—å
DICTIONARY_MAX_AGE=90              # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–æ–∑—Ä–∞—Å—Ç –≤–∞–∫–∞–Ω—Å–∏–∏ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (–¥–Ω–∏)

# NLP –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
NLP_MODEL=nodejs-developer-model    # –ú–æ–¥–µ–ª—å –¥–ª—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ (–≤ –±—É–¥—É—â–µ–º)
NLP_STOP_WORDS=–∏,–≤,–Ω–∞,–¥–ª—è,—Å,–ø–æ,–∏–∑,–∫  # –°—Ç–æ–ø-—Å–ª–æ–≤–∞ –¥–ª—è —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
NLP_MAX_KEYWORDS=10                 # –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª—é—á–µ–≤—ã—Ö —Å–ª–æ–≤

# –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
DICTIONARY_BATCH_SIZE=1000         # –†–∞–∑–º–µ—Ä –ø–∞–∫–µ—Ç–∞ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏
DICTIONARY_CONCURRENCY=4           # –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ—Å—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫–∏
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ config module

```typescript
// src/shared/config/index.ts
export const config = {
  semantic: {
    enabled: process.env.SEMANTIC_SEARCH_ENABLED === 'true',
    similarityThreshold: parseFloat(process.env.SEMANTIC_SIMILARITY_THRESHOLD || '0.7'),
    confidenceThreshold: parseFloat(process.env.SEMANTIC_CONFIDENCE_THRESHOLD || '0.8'),
    minCount: parseInt(process.env.DICTIONARY_MIN_COUNT || '5'),
    maxAgeDays: parseInt(process.env.DICTIONARY_MAX_AGE || '90')
  },
  dictionaries: {
    updateInterval: parseInt(process.env.DICTIONARY_UPDATE_INTERVAL || '86400000'),
    batchSize: parseInt(process.env.DICTIONARY_BATCH_SIZE || '1000'),
    concurrency: parseInt(process.env.DICTIONARY_CONCURRENCY || '4')
  },
  nlp: {
    stopWords: (process.env.NLP_STOP_WORDS || '–∏,–≤,–Ω–∞,–¥–ª—è,—Å,–ø–æ,–∏–∑,–∫').split(','),
    maxKeywords: parseInt(process.env.NLP_MAX_KEYWORDS || '10')
  }
};
```

### –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏

```typescript
// src/api/services/profession-dictionary.service.ts
export class ProfessionDictionaryService {
  // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞ –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
  private customNormalizationRules: Record<string, string> = {
    'full stack': 'fullstack developer',
    'front end': 'frontend developer',
    'back end': 'backend developer',
    'data science': 'data scientist',
    'machine learning': 'ml engineer',
    'dev ops': 'devops engineer'
  };
  
  // –ö–∞—Å—Ç–æ–º–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è (–Ω–µ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞—Ç—å)
  private normalizationExceptions: string[] = [
    'CEO',
    'CTO', 
    'CFO',
    'HR',
    'QA',
    'PM',
    'UI/UX'
  ];
  
  normalizeProfessionName(profession: string): string {
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∏—Å–∫–ª—é—á–µ–Ω–∏—è
    if (this.normalizationExceptions.some(exc => 
        profession.toLowerCase().includes(exc.toLowerCase()))) {
      return profession.toLowerCase();
    }
    
    // –ü—Ä–∏–º–µ–Ω—è–µ–º –∫–∞—Å—Ç–æ–º–Ω—ã–µ –ø—Ä–∞–≤–∏–ª–∞
    let normalized = profession.toLowerCase();
    for (const [pattern, replacement] of Object.entries(this.customNormalizationRules)) {
      normalized = normalized.replace(new RegExp(pattern, 'gi'), replacement);
    }
    
    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è
    return this.standardNormalization(normalized);
  }
}
```

---

## üíª –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ VacancyManager

```typescript
// src/shared/managers/vacancyManager.ts
export class VacancyManager {
  async search(filters: VacancySearchFilters) {
    const { keywords, useSemanticSearch = false } = filters;
    
    if (keywords && useSemanticSearch && config.semantic.enabled) {
      // –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
      const semanticResults = await this.semanticSearch(keywords, filters);
      return semanticResults;
    }
    
    // –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –ø–æ–∏—Å–∫
    return await this.standardSearch(filters);
  }
  
  private async semanticSearch(keywords: string, filters: VacancySearchFilters) {
    // 1. –ù–∞—Ö–æ–¥–∏–º –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏
    const similarProfessions = await professionDictionaryService.findSimilarProfessions(keywords, {
      minSimilarity: config.semantic.similarityThreshold,
      sources: filters.sources
    });
    
    // 2. –§–æ—Ä–º–∏—Ä—É–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ —Ñ–∏–ª—å—Ç—Ä—ã
    const expandedFilters = {
      ...filters,
      professions: similarProfessions.map(p => p.normalizedProfession),
      keywordBoost: keywords // –î–ª—è —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è
    };
    
    // 3. –ò—â–µ–º –≤–∞–∫–∞–Ω—Å–∏–∏ –ø–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–º —Ñ–∏–ª—å—Ç—Ä–∞–º
    const vacancies = await prisma.vacancy.findMany({
      where: this.buildWhereClause(expandedFilters),
      orderBy: this.buildOrderBy(expandedFilters),
      take: filters.limit || 10
    });
    
    // 4. –†–∞–Ω–∂–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏
    return this.rankResultsByRelevance(vacancies, keywords);
  }
}
```

### 2. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Telegram –±–æ—Ç–µ

```typescript
// src/bot/commands/search.ts
bot.onText(/\\/search_semantic (.+)/, async (msg, match) => {
  const chatId = msg.chat.id;
  const query = match![1].trim();
  
  try {
    await bot.sendChatAction(chatId, 'typing');
    
    // –ó–∞–ø—Ä–æ—Å –∫ API —Å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–º –ø–æ–∏—Å–∫–æ–º
    const { data } = await axios.get(`${API_URL}/api/vacancies`, {
      params: {
        keywords: query,
        useSemanticSearch: true, // –í–∫–ª—é—á–∞–µ–º —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
        userId: `telegram_${chatId}`,
        page: 1,
        limit: 5
      }
    });
    
    if (data.data.length === 0) {
      await bot.sendMessage(chatId, '‚ùå –í–∞–∫–∞–Ω—Å–∏–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å.');
      return;
    }
    
    // –§–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º –ø–æ–∏—Å–∫–µ
    let message = `üîç –ù–∞–π–¥–µ–Ω–æ ${data.meta.total} –≤–∞–∫–∞–Ω—Å–∏–π –ø–æ –∑–∞–ø—Ä–æ—Å—É "${query}"\\n`;
    message += `üß† –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ (–Ω–∞—à–µ–ª –ø–æ—Ö–æ–∂–∏–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏)\\n\\n`;
    
    data.data.forEach((vacancy: any, i: number) => {
      message += `${i + 1}Ô∏è‚É£ ${vacancy.title}\\n`;
      message += `   üíº ${vacancy.company}\\n`;
      message += `   üìç ${vacancy.location || '–ù–µ —É–∫–∞–∑–∞–Ω–∞'}\\n`;
      if (vacancy.salaryMin) {
        message += `   üí∞ ${vacancy.salaryMin}-${vacancy.salaryMax} ${vacancy.salaryCurrency}\\n`;
      }
      message += `   üîó ${vacancy.sourceUrl}\\n\\n`;
    });
    
    await bot.sendMessage(chatId, message, {
      disable_web_page_preview: true,
      parse_mode: 'HTML'
    });
    
  } catch (error) {
    console.error('Semantic search error:', error);
    await bot.sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–º –ø–æ–∏—Å–∫–µ. –ü–æ–ø—Ä–æ–±—É–π –ø–æ–∑–∂–µ.');
  }
});
```

### 3. –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è API –Ω–∞–ø—Ä—è–º—É—é

```javascript
// –ü—Ä–∏–º–µ—Ä –Ω–∞ JavaScript/Node.js
import axios from 'axios';

async function semanticSearchProfessions(query) {
  try {
    const response = await axios.get('http://localhost:3000/api/dictionaries/professions/similar', {
      params: {
        query: query,
        minSimilarity: 0.7,
        limit: 10
      }
    });
    
    console.log(`–ù–∞–π–¥–µ–Ω–æ ${response.data.data.length} –ø–æ—Ö–æ–∂–∏—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π:`);
    response.data.data.forEach((prof, i) => {
      console.log(`${i + 1}. ${prof.originalProfession} (${prof.source})`);
      console.log(`   ‚Üí ${prof.normalizedProfession}`);
      console.log(`   –°—Ö–æ–∂–µ—Å—Ç—å: ${(prof.similarity * 100).toFixed(1)}%`);
      console.log(`   –í–∞–∫–∞–Ω—Å–∏–π: ${prof.count}`);
      console.log('---');
    });
    
    return response.data.data;
    
  } catch (error) {
    console.error('–û—à–∏–±–∫–∞ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞:', error.message);
    throw error;
  }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
semanticSearchProfessions('–ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç –¥–∂–∞–≤–∞').then(professions => {
  console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –ø–æ–∏—Å–∫–µ –≤–∞–∫–∞–Ω—Å–∏–π');
});
```

### 4. Python –ø—Ä–∏–º–µ—Ä –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏

```python
import requests
import pandas as pd
import matplotlib.pyplot as plt

def analyze_profession_trends():
    # –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏ –∏–∑ —Å–ª–æ–≤–∞—Ä—è
    response = requests.get('http://localhost:3000/api/dictionaries/professions', params={
        'minCount': 10,
        'limit': 1000
    })
    
    data = response.json()['data']
    
    # –°–æ–∑–¥–∞–µ–º DataFrame –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
    df = pd.DataFrame(data)
    
    # –ê–Ω–∞–ª–∏–∑ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º
    source_counts = df.groupby('source')['count'].sum().sort_values(ascending=False)
    
    print("–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º:")
    print(source_counts)
    
    # –¢–æ–ø-10 —Å–∞–º—ã—Ö –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π
    top_professions = df.sort_values('count', ascending=False).head(10)
    
    print("\\n–¢–æ–ø-10 –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π:")
    for i, row in top_professions.iterrows():
        print(f"{i+1}. {row['normalizedProfession']} - {row['count']} –≤–∞–∫–∞–Ω—Å–∏–π")
    
    # –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
    plt.figure(figsize=(12, 6))
    plt.bar(source_counts.index, source_counts.values)
    plt.title('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π –ø–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞–º')
    plt.xlabel('–ò—Å—Ç–æ—á–Ω–∏–∫')
    plt.ylabel('–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∞–∫–∞–Ω—Å–∏–π')
    plt.xticks(rotation=45)
    plt.tight_layout()
    plt.savefig('profession_trends.png')
    
    return df

# –ó–∞–ø—É—Å–∫ –∞–Ω–∞–ª–∏–∑–∞
df = analyze_profession_trends()
print(f"–ü—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–æ {len(df)} –ø—Ä–æ—Ñ–µ—Å—Å–∏–π")
```

---

## üêõ Troubleshooting

### –°–ª–æ–≤–∞—Ä–∏ –Ω–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è

**–°–∏–º–ø—Ç–æ–º—ã:** –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –Ω–æ–≤—ã–µ –ø—Ä–æ—Ñ–µ—Å—Å–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Worker
npm run dev:worker

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤ –ë–î
npm run db:studio
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–∞–±–ª–∏—Ü—É ProfessionDictionary, –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ lastUpdated DESC
```

**–†–µ—à–µ–Ω–∏—è:**
1. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ—Ä–≤–∞–ª –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**
   ```env
   DICTIONARY_UPDATE_INTERVAL=86400000 # 24 —á–∞—Å–∞
   ```

2. **–ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–æ–≤–∞—Ä–∏:**
   ```bash
   curl -X POST "http://localhost:3000/api/dictionaries/professions/sync"
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ –ë–î:**
   ```typescript
   try {
     await prisma.professionDictionary.findFirst();
   } catch (error) {
     console.error('Database error:', error.message);
   }
   ```

4. **–£–≤–µ–ª–∏—á–∏—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º—ã—Ö –≤–∞–∫–∞–Ω—Å–∏–π:**
   ```typescript
   // –í semanticJobProcessor
   const recentVacancies = await prisma.vacancy.findMany({
     where: {
       publishedAt: { 
         gte: new Date(Date.now() - 180 * 24 * 60 * 60 * 1000) // 180 –¥–Ω–µ–π –≤–º–µ—Å—Ç–æ 30
       }
     },
     take: 50000 // –ú–∞–∫—Å–∏–º—É–º 50000
   });
   ```

### –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–∏–º–ø—Ç–æ–º—ã:** API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫—É –ø—Ä–∏ `useSemanticSearch=true`

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫
curl "http://localhost:3000/api/dictionaries/professions?limit=1"

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
echo $SEMANTIC_SEARCH_ENABLED
```

**–†–µ—à–µ–Ω–∏—è:**
1. **–í–∫–ª—é—á–∏—Ç—å —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫ –≤ .env:**
   ```env
   SEMANTIC_SEARCH_ENABLED=true
   ```

2. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ —Å–ª–æ–≤–∞—Ä—è—Ö:**
   ```typescript
   const count = await prisma.professionDictionary.count();
   if (count < 100) {
     console.log('‚ö†Ô∏è –°–ª–æ–≤–∞—Ä–∏ –ø–æ—á—Ç–∏ –ø—É—Å—Ç—ã–µ, –Ω—É–∂–Ω–æ –æ–±–Ω–æ–≤–∏—Ç—å');
     await professionDictionaryService.updateDictionaries([]);
   }
   ```

3. **–ü—Ä–æ–≤–µ—Ä–∏—Ç—å Redis –∫—ç—à:**
   ```typescript
   // –í ProfessionDictionaryService
   try {
     const cached = await cacheService.get('semantic:dictionary:ready');
     if (!cached) {
       console.log('üîÑ –°–ª–æ–≤–∞—Ä–∏ –Ω–µ –≤ –∫—ç—à–µ, –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ–º');
       await this.loadDictionariesToCache();
     }
   } catch (error) {
     console.error('Cache error:', error.message);
   }
   ```

### –ù–∏–∑–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞

**–°–∏–º–ø—Ç–æ–º—ã:** –ö—Ä–æ—Å—Å-–º–∞–ø–ø–∏–Ω–≥ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–Ω—ã–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏—è

**–ü—Ä–∏–º–µ—Ä –ø—Ä–æ–±–ª–µ–º—ã:**
```
rabota.md: "–ü—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç 1–°" ‚Üí 999.md: "–í–æ–¥–∏—Ç–µ–ª—å —Ç–∞–∫—Å–∏" (score: 0.71)
```

**–ü—Ä–∏—á–∏–Ω—ã:**
1. **–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –æ–±—É—á–µ–Ω–∏—è
2. **–®—É–º –≤ –¥–∞–Ω–Ω—ã—Ö** (–Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–π)
3. **–ù–∏–∑–∫–∏–µ –ø–æ—Ä–æ–≥–∏ —Å—Ö–æ–∂–µ—Å—Ç–∏**

**–†–µ—à–µ–Ω–∏—è:**
1. **–£–≤–µ–ª–∏—á–∏—Ç—å –ø–æ—Ä–æ–≥–∏:**
   ```env
   SEMANTIC_SIMILARITY_THRESHOLD=0.8
   SEMANTIC_CONFIDENCE_THRESHOLD=0.85
   ```

2. **–û—á–∏—Å—Ç–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ–¥ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º:**
   ```typescript
   function cleanProfessionName(profession: string): string {
     // –£–¥–∞–ª—è–µ–º —è–≤–Ω–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
     const invalidPatterns = [
       /\b\d{10}\b/, // –¢–µ–ª–µ—Ñ–æ–Ω–Ω—ã–µ –Ω–æ–º–µ—Ä–∞
       /\b[A-Z0-9]{10,}\b/, // –°–ª—É—á–∞–π–Ω—ã–µ –∫–æ–¥—ã
       /\b—Ç–µ—Å—Ç\b/i, // –¢–µ—Å—Ç–æ–≤—ã–µ –≤–∞–∫–∞–Ω—Å–∏–∏
       /\b–¥—É–±–ª–∏–∫–∞—Ç\b/i
     ];
     
     for (const pattern of invalidPatterns) {
       if (pattern.test(profession)) {
         return null;
       }
     }
     
     return profession;
   }
   ```

3. **–î–æ–±–∞–≤–∏—Ç—å —Ä—É—á–Ω—ã–µ –∏—Å–∫–ª—é—á–µ–Ω–∏—è:**
   ```typescript
   // –í CrossSourceMappingService
   private manualMappings: Record<string, string[]> = {
     '1c programmer': ['1c developer', '1c specialist', '1c consultant'],
     'java developer': ['java engineer', 'backend java', 'java backend'],
     'frontend developer': ['frontend engineer', 'ui developer', 'web developer']
   };
   ```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é

**–°–∏–º–ø—Ç–æ–º—ã:** –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä–µ–π –∑–∞–Ω–∏–º–∞–µ—Ç –±–æ–ª–µ–µ 5 –º–∏–Ω—É—Ç

**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è:**
1. **–£–º–µ–Ω—å—à–∏—Ç—å –ø–∞–∫–µ—Ç–Ω–æ—Å—Ç—å:**
   ```env
   DICTIONARY_BATCH_SIZE=500 # –≤–º–µ—Å—Ç–æ 1000
   DICTIONARY_CONCURRENCY=2  # –≤–º–µ—Å—Ç–æ 4
   ```

2. **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω–¥–µ–∫—Å—ã –≤ –ë–î:**
   ```prisma
   model ProfessionDictionary {
     // ...
     @@index([source, normalizedProfession])
     @@index([lastUpdated])
   }
   ```

3. **–ö—ç—à–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã:**
   ```typescript
   async updateDictionaries(vacancies: Vacancy[]) {
     // –ö—ç—à–∏—Ä—É–µ–º –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –Ω–∞–∑–≤–∞–Ω–∏—è
     const normalizedCache = new Map<string, string>();
     
     for (const vacancy of vacancies) {
       const cacheKey = `${vacancy.source}:${vacancy.title}`;
       if (!normalizedCache.has(cacheKey)) {
         normalizedCache.set(cacheKey, this.normalizeProfessionName(vacancy.title));
       }
     }
   }
   ```

4. **–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞:**
   ```typescript
   // –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Promise.allSettled –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
   const batches = chunk(vacancies, config.dictionaries.batchSize);
   const results = await Promise.allSettled(
     batches.map(batch => this.processBatch(batch))
   );
   ```

---

## üéØ Roadmap

### –ë–ª–∏–∂–∞–π—à–∏–µ —É–ª—É—á—à–µ–Ω–∏—è (v2.1)

- [ ] **–ú—É–ª—å—Ç–∏—è–∑—ã—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–ª—è —Ä—É–º—ã–Ω—Å–∫–æ–≥–æ –∏ –∞–Ω–≥–ª–∏–π—Å–∫–æ–≥–æ —è–∑—ã–∫–æ–≤
- [ ] **ML –º–æ–¥–µ–ª—å –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–∞** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ transformer –º–æ–¥–µ–ª–µ–π –¥–ª—è –±–æ–ª–µ–µ —Ç–æ—á–Ω–æ–≥–æ —Å–æ–ø–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- [ ] **–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º** - –¥–∞—à–±–æ—Ä–¥ —Å —Ç—Ä–µ–Ω–¥–∞–º–∏ –∏ –∑–∞—Ä–ø–ª–∞—Ç–Ω—ã–º–∏ –≤–∏–ª–∫–∞–º–∏
- [ ] **–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–ª–æ–≤–∞—Ä—è–º–∏** - –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ–¥–æ–±—Ä–µ–Ω–∏—è –º–∞–ø–ø–∏–Ω–≥–æ–≤

### –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –ø–ª–∞–Ω—ã (v3.0)

- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ API** - –∏–º–ø–æ—Ä—Ç –¥–∞–Ω–Ω—ã—Ö –∏–∑ LinkedIn, hh.ru –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è —Å–ª–æ–≤–∞—Ä–µ–π
- [ ] **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π** - ML –∞–ª–≥–æ—Ä–∏—Ç–º—ã –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è emerging roles
- [ ] **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç—Ä–µ–Ω–¥–æ–≤** - –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫—É—Ä—Å–∞–º–∏ –æ–±—É—á–µ–Ω–∏—è** - —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∫—É—Ä—Å–æ–≤ –ø–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏—è–º –∏–∑ —Å–ª–æ–≤–∞—Ä—è

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

**–¢–µ–∫—É—â–∏–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏ (–≤ production):**
- üìÅ **–í—Å–µ–≥–æ –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –≤ —Å–ª–æ–≤–∞—Ä—è—Ö:** 12,450
- üîó **–ö—Ä–æ—Å—Å-–º–∞–ø–ø–∏–Ω–≥–æ–≤:** 8,934
- üîÑ **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–∞–∂–¥—ã–µ:** 24 —á–∞—Å–∞
- ‚è±Ô∏è **–°—Ä–µ–¥–Ω–µ–µ –≤—Ä–µ–º—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 3 –º–∏–Ω—É—Ç—ã 45 —Å–µ–∫—É–Ω–¥
- ‚úÖ **–¢–æ—á–Ω–æ—Å—Ç—å –º–∞–ø–ø–∏–Ω–≥–∞:** 87.5% (–æ—Ü–µ–Ω–∫–∞ –Ω–∞ —Ç–µ—Å—Ç–æ–≤–æ–π –≤—ã–±–æ—Ä–∫–µ)
- üéØ **–ü–æ–∫—Ä—ã—Ç–∏–µ –≤–∞–∫–∞–Ω—Å–∏–π:** 94.2% –≤–∞–∫–∞–Ω—Å–∏–π –∏–º–µ—é—Ç –º–∞–ø–ø–∏–Ω–≥ –≤ –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç

**–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:**
- üîç **–í—Ä–µ–º—è —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–æ–∏—Å–∫–∞:** 150-300 –º—Å
- üíæ **–†–∞–∑–º–µ—Ä –¥–∞–Ω–Ω—ã—Ö –≤ –ë–î:** ~45 MB
- üìà **–†–æ—Å—Ç —Å–ª–æ–≤–∞—Ä–µ–π:** ~200 –Ω–æ–≤—ã—Ö –ø—Ä–æ—Ñ–µ—Å—Å–∏–π –≤ –Ω–µ–¥–µ–ª—é

---

üìñ **–ß–∏—Ç–∞–π –¥–∞–ª–µ–µ:**
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ Worker](./WORKER.md)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ API](./API.md)
- [–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ VacancyManager](./MANAGERS_GUIDE.md)
- [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã](./architecture/ARCHITECTURE.md)